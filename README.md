# inflearn-spring-advanced

## 로그 추적기
### 남은 문제 
- HTTP 요청을 구분하고 깊이를 표현하기 위해서 `TraceId` 동기화가 필요하다.
- `TraceId` 의 동기화를 위해서 관련 메서드의 모든 파라미터를 수정해야 한다.
  - 만약 인터페이스가 있다면 인터페이스까지 모두 고쳐야 하는 상황이다.
- 로그를 처음 시작할 때는 `begin()` 을 호출하고, 처음이 아닐때는 `beginSync()` 를 호출해야 한다.
  - 만약에 컨트롤러를 통해서 서비스를 호출하는 것이 아니라, 다른 곳에서 서비스를 처음으로 호출하는 상황 이라면 파리미터로 넘길 `TraceId` 가 없다.
### 해결 방안
- Thread local로 동시성 문제 해결해보기

## 쓰레드 로컬
### 주의 사항
- 쓰레드 로컬을 사용하고 난 뒤에는 WAS나 벗어날 때 인터셉터나 필터에서 꼭 ! remove로 제거해주고 나가야한다.

## 템플릿 메서드
### 핵심 내용
- 제네릭으로 리턴값 정의를 후순위로 미룰 수 있다.
- return 값이 void라면 Void로 명시해줄 수 있다. 대신 return null; 로 해줘야함
- 익명 내부 클래스로 추상메서드를 정의해줄 수 있다. 템플릿 메서드를 이용하면 추상 메서드를 구현해야 하는 클래스가 많이 생기는데
  이것을 개선하고자 익명 내부 클래스로 정의한다.

## 전략 패턴

